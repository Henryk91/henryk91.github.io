<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Love Trails Croatia - Gantt</title>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <style>
    :root { --gap: 12px; --pad: 10px; --radius: 14px; --card:#0f172a; --ink:#e5e7eb; }
    html, body { height: 100%; background:#0b1220; }
    body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; color:var(--ink); }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 16px; display: flex; flex-direction: column; gap: var(--gap); }
    .panel { background: var(--card); border: 1px solid #1f2937; border-radius: var(--radius); padding: var(--pad); }
    .legend { display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
    .legend .pill { display:inline-flex; align-items:center; gap:8px; padding: 6px 10px; border-radius:999px; border:1px solid #334155; cursor:pointer; user-select:none; }
    .legend .swatch { width:12px; height:12px; border-radius:50%; display:inline-block; border:1px solid #0006; margin-right:6px; }
    .legend .pill[aria-pressed="false"] { opacity:.4; }
    .buttons { display:flex; flex-wrap:wrap; gap:8px; }
    .buttons button { background:#111827; color:var(--ink); border:1px solid #334155; border-radius:10px; padding:8px 12px; cursor:pointer; }
    .buttons button.active { outline:2px solid #475569; }
    .plot-scroll { overflow-x: auto; }
    #plot { width:100%; min-width: 900px;  min-height: 420px; }
    @media (max-width: 640px) { #plot {  min-height: 360px; } }
  </style>
</head>
<body>
  <div class="wrap">
  <div class="panel" id="" aria-label="">
  <text class="gtitle" x="45" y="50" text-anchor="start" dy="0em" data-unformatted="Love Trails Croatia" data-math="N" style="font-family: &quot;Open Sans&quot;, verdana, arial, sans-serif; font-size: 22px; fill: rgb(229, 231, 235); opacity: 1; font-weight: normal; white-space: pre; text-align: center">Love Trails Croatia</text>
</div>
    <div class="panel legend" id="legend-ui" aria-label="Category filters"></div>
    <div class="panel buttons" id="day-ui" aria-label="Day filters"></div>
    <div class="panel"><div class="plot-scroll"><div id="plot"></div></div></div>
  </div>

  <script>
    const FIG = {"data": [{"base": ["2025-09-30T20:00:00.000000000"], "customdata": [["Music / Social", "2025-09-30", "Club Porto", "Arrival & Opening Party (Outer Projects DJs 20:00-22:00, Rich Wills 22:00-00:00)"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Music / Social", "marker": {"color": "rgb(229, 134, 6)", "pattern": {"shape": ""}}, "name": "Music / Social", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "ALrbAA=="}, "xaxis": "x", "y": ["Arrival & Opening Party (Ou\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T07:30:00.000000000", "2025-10-01T08:00:00.000000000", "2025-10-02T08:00:00.000000000"], "customdata": [["Wellness / Movement", "2025-10-01", "Hotel Lawn", "Morning Wellness & Movement 'Balance'"], ["Wellness / Movement", "2025-10-01", "Club Porto", "Energising Movement & Breath - Rory Bradshaw"], ["Wellness / Movement", "2025-10-02", "Club Porto", "Movement Session - Waking Dreams"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Wellness / Movement", "marker": {"color": "rgb(93, 105, 177)", "pattern": {"shape": ""}}, "name": "Wellness / Movement", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gO42AIDuNgCA7jYA"}, "xaxis": "x", "y": ["Morning Wellness & Movement\u2026", "Energising Movement & Breat\u2026", "Movement Session - Waking D\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T07:30:00.000000000"], "customdata": [["Wellness / Music", "2025-10-01", "", "Yoga & DJ Set - Outer Projects"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Wellness / Music", "marker": {"color": "rgb(82, 188, 163)", "pattern": {"shape": ""}}, "name": "Wellness / Music", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gO42AA=="}, "xaxis": "x", "y": ["Yoga & DJ Set - Outer Proje\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T08:30:00.000000000", "2025-10-02T08:00:00.000000000"], "customdata": [["Social", "2025-10-01", "", "Coffee Party - Outer Projects"], ["Social", "2025-10-02", "", "Coffee Party - Rich Wills"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Social", "marker": {"color": "rgb(153, 201, 69)", "pattern": {"shape": ""}}, "name": "Social", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gO42AMBlUgA="}, "xaxis": "x", "y": ["Coffee Party - Outer Projec\u2026", "Coffee Party - Rich Wills"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T09:30:00.000000000", "2025-10-01T10:00:00.000000000", "2025-10-02T09:30:00.000000000", "2025-10-02T11:00:00.000000000"], "customdata": [["Run & Hike", "2025-10-01", "Club Porto \u2192 Jablanova", "Balance in Motion - 8 km hike to Jablanova Beach"], ["Run & Hike", "2025-10-01", "", "\u201chiked.up to party.down\u201d - 8 km hike"], ["Run & Hike", "2025-10-02", "", "Balance in Motion - 8.5 km hike to Vela Luka Beach"], ["Run & Hike", "2025-10-02", "", "Waking Dreams - 8.5 km hike"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Run & Hike", "marker": {"color": "rgb(204, 97, 176)", "pattern": {"shape": ""}}, "name": "Run & Hike", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gMukAIDLpACAy6QAQFSJAA=="}, "xaxis": "x", "y": ["Balance in Motion - 8 km hi\u2026", "\u201chiked.up to party.down\u201d - \u2026", "Balance in Motion - 8.5 km \u2026", "Waking Dreams - 8.5 km hike"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T10:30:00.000000000", "2025-10-02T10:30:00.000000000"], "customdata": [["Run", "2025-10-01", "", "Midnight Runners Bootcamp Run - 8 km"], ["Run", "2025-10-02", "", "Midnight Runners Bootcamp Run - 8.5 km"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Run", "marker": {"color": "rgb(36, 121, 108)", "pattern": {"shape": ""}}, "name": "Run", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "QFSJAEBUiQA="}, "xaxis": "x", "y": ["Midnight Runners Bootcamp R\u2026", "Midnight Runners Bootcamp R\u2026 (2)"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T11:00:00.000000000"], "customdata": [["Run / Creative", "2025-10-01", "", "Outer Projects Run & Sketch - 8 km run"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Run / Creative", "marker": {"color": "rgb(218, 165, 27)", "pattern": {"shape": ""}}, "name": "Run / Creative", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "QFSJAA=="}, "xaxis": "x", "y": ["Outer Projects Run & Sketch\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T11:30:00.000000000", "2025-10-04T15:00:00.000000000"], "customdata": [["Run & Hike / Food", "2025-10-01", "Includes boat / walk return", "Run to Croatian Coastal Banquet"], ["Run & Hike / Food", "2025-10-04", "Coastal route + lighthouse", "Run to Croatian Coastal Banquet + return"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Run & Hike / Food", "marker": {"color": "rgb(47, 138, 196)", "pattern": {"shape": ""}}, "name": "Run & Hike / Food", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gMukAIDLpAA="}, "xaxis": "x", "y": ["Run to Croatian Coastal Ban\u2026", "Run to Croatian Coastal Ban\u2026 (2)"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-01T13:00:00.000000000", "2025-10-01T14:30:00.000000000", "2025-10-01T16:00:00.000000000", "2025-10-01T20:00:00.000000000", "2025-10-01T21:30:00.000000000", "2025-10-01T23:30:00.000000000", "2025-10-02T12:00:00.000000000", "2025-10-02T13:30:00.000000000", "2025-10-02T15:00:00.000000000", "2025-10-02T16:00:00.000000000", "2025-10-02T20:00:00.000000000", "2025-10-02T22:00:00.000000000", "2025-10-02T23:30:00.000000000", "2025-10-03T00:30:00.000000000", "2025-10-03T11:00:00.000000000", "2025-10-03T15:30:00.000000000", "2025-10-03T18:00:00.000000000", "2025-10-03T20:30:00.000000000", "2025-10-03T22:30:00.000000000", "2025-10-04T11:30:00.000000000", "2025-10-04T17:30:00.000000000", "2025-10-04T18:30:00.000000000", "2025-10-04T20:30:00.000000000", "2025-10-04T22:30:00.000000000"], "customdata": [["Music", "2025-10-01", "Jablanova Beach", "Tom Colville DJ set"], ["Music", "2025-10-01", "", "Ordley DJ set"], ["Music", "2025-10-01", "", "Kirilski - Midnight Runners"], ["Music", "2025-10-01", "Club Porto", "Outer Projects DJs (Dom & Sarah B2B)"], ["Music", "2025-10-01", "Club Porto", "Kamila Govor\u010din"], ["Music", "2025-10-01", "Club Porto", "Tom Pardhy B2B Girlcar"], ["Music", "2025-10-02", "Vela Luka Beach", "Kirilski DJ set"], ["Music", "2025-10-02", "", "Tim Garcia DJ set"], ["Music", "2025-10-02", "", "Samuel Deep B2B Theo Kottis"], ["Music", "2025-10-02", "", "DJ (TBA)"], ["Music", "2025-10-02", "", "Little Lion Meg (DJ set)"], ["Music", "2025-10-02", "", "DJ (TBA)"], ["Music", "2025-10-02", "", "Outer Projects"], ["Music", "2025-10-03", "", "Tim Garcia DJ set"], ["Music", "2025-10-03", "", "Beach Party DJs - Little Lion Meg + Jordan Mae"], ["Music", "2025-10-03", "", "DJ (TBA)"], ["Music", "2025-10-03", "", "Savanah Funk (Live)"], ["Music", "2025-10-03", "", "Loner Tennis Club (Live)"], ["Music", "2025-10-03", "", "O\u2019Flynn - Headliner"], ["Music", "2025-10-04", "Uvala Bunculuka / Beach Games", "Tom Colville DJ set"], ["Music", "2025-10-04", "Lighthouse \u0160kuljica", "Cherise (Live)"], ["Music", "2025-10-04", "Club Porto", "Kirilski DJ set - Closing Party"], ["Music", "2025-10-04", "", "United Freedom Collective"], ["Music", "2025-10-04", "", "Mafalda"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Music", "marker": {"color": "rgb(118, 78, 159)", "pattern": {"shape": ""}}, "name": "Music", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "wGVSAMBlUgBAVIkAwGVSAADdbQDAZVIAwGVSAMBlUgBAVIkAQFSJAADdbQDAZVIAwGVSAMBlUgCAHMoCQFSJAMBlUgDAZVIAAN1tAEBUiQCA7jYAAN1tAADdbQDAZVIA"}, "xaxis": "x", "y": ["Tom Colville DJ set", "Ordley DJ set", "Kirilski - Midnight Runners", "Outer Projects DJs (Dom & S\u2026", "Kamila Govor\u010din", "Tom Pardhy B2B Girlcar", "Kirilski DJ set", "Tim Garcia DJ set", "Samuel Deep B2B Theo Kottis", "DJ (TBA)", "Little Lion Meg (DJ set)", "DJ (TBA) (2)", "Outer Projects", "Tim Garcia DJ set (2)", "Beach Party DJs - Little Li\u2026", "DJ (TBA) (3)", "Savanah Funk (Live)", "Loner Tennis Club (Live)", "O\u2019Flynn - Headliner", "Tom Colville DJ set (2)", "Cherise (Live)", "Kirilski DJ set - Closing P\u2026", "United Freedom Collective", "Mafalda"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-02T09:00:00.000000000", "2025-10-04T08:00:00.000000000"], "customdata": [["Wellness", "2025-10-02", "Hotel Lawn", "The Movement Project 'Morning Form'"], ["Wellness", "2025-10-04", "", "A Movement Playground - The Movement Project"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Wellness", "marker": {"color": "rgb(237, 100, 90)", "pattern": {"shape": ""}}, "name": "Wellness", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gO42AIDuNgA="}, "xaxis": "x", "y": ["The Movement Project 'Morni\u2026", "A Movement Playground - The\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-02T10:00:00.000000000"], "customdata": [["Run & Hike / Wellness", "2025-10-02", "", "Rory Bradshaw Movement, Mindfulness & Music - 8.5 km hike"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Run & Hike / Wellness", "marker": {"color": "rgb(165, 170, 153)", "pattern": {"shape": ""}}, "name": "Run & Hike / Wellness", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gMukAA=="}, "xaxis": "x", "y": ["Rory Bradshaw Movement, Min\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-03T07:30:00.000000000"], "customdata": [["Logistics", "2025-10-03", "Sunny Ba\u0161ka Hotel area", "Race Registration"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Logistics", "marker": {"color": "rgb(127, 60, 141)", "pattern": {"shape": ""}}, "name": "Logistics", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "QFSJAA=="}, "xaxis": "x", "y": ["Race Registration"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-03T10:00:00.000000000"], "customdata": [["Race", "2025-10-03", "Multiple aid stations", "Timed Out\u2122 17.5 km race start (600 m elevation)"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Race", "marker": {"color": "rgb(17, 165, 121)", "pattern": {"shape": ""}}, "name": "Race", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "ALrbAA=="}, "xaxis": "x", "y": ["Timed Out\u2122 17.5 km race sta\u2026"], "yaxis": "y", "type": "bar"}, {"base": ["2025-10-04T13:00:00.000000000"], "customdata": [["Music / Adventure", "2025-10-04", "Departs Ba\u0161ka Pier", "Boat Party - Waking Dreams \u00d7 Midnight Runners feat. Girlcar, Tom Pardhy, Jordan Mae & Little Lion Meg"]], "hovertemplate": "Category=%{customdata[0]}<br>Start=%{base|%a, %d %b %Y %H:%M}<br>End=%{x|%a, %d %b %Y %H:%M}<br>Activity_short=%{y}<br>Day=%{customdata[1]}<br>Location / Notes=%{customdata[2]}<br>Activity=%{customdata[3]}<extra></extra>", "legendgroup": "Music / Adventure", "marker": {"color": "rgb(57, 105, 172)", "pattern": {"shape": ""}}, "name": "Music / Adventure", "orientation": "h", "showlegend": true, "textposition": "auto", "x": {"dtype": "i4", "bdata": "gMukAA=="}, "xaxis": "x", "y": ["Boat Party - Waking Dreams \u2026"], "yaxis": "y", "type": "bar"}, {"customdata": [["Aid Station 1 (~5.1 km) - craft workshops, breathwork", "No specific time: \"During Race\""], ["Aid Station 2 (~8.5 km, Beach Zala Stara Ba\u0161ka) - rock painting, yoga", "No specific time: \"During Race\""], ["Aid Station 3 (~13.1 km, Cove Vela Draga) - beading, yoga", "No specific time: \"During Race\""], ["Departures / Breakfast", "No specific time: \"Morning\""]], "hovertemplate": "<b>%{customdata[0]}</b><br>%{customdata[1]}<br>(marker at 12:00 for display only)<extra></extra>", "marker": {"color": "#e5e7eb", "line": {"width": 1}, "size": 11, "symbol": "x"}, "mode": "markers", "name": "No specific time", "x": ["2025-10-03T12:00:00.000000000", "2025-10-03T12:00:00.000000000", "2025-10-03T12:00:00.000000000", "2025-10-05T12:00:00.000000000"], "y": ["Aid Station 1 (~5.1 km) - c\u2026", "Aid Station 2 (~8.5 km, Bea\u2026", "Aid Station 3 (~13.1 km, Co\u2026", "Departures / Breakfast"], "type": "scatter"}], "layout": {"template": {"data": {"histogram2dcontour": [{"type": "histogram2dcontour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "choropleth": [{"type": "choropleth", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "histogram2d": [{"type": "histogram2d", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "heatmap": [{"type": "heatmap", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "contourcarpet": [{"type": "contourcarpet", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "contour": [{"type": "contour", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "surface": [{"type": "surface", "colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}], "mesh3d": [{"type": "mesh3d", "colorbar": {"outlinewidth": 0, "ticks": ""}}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "parcoords": [{"type": "parcoords", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolargl": [{"type": "scatterpolargl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "scattergeo": [{"type": "scattergeo", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterpolar": [{"type": "scatterpolar", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "scattergl": [{"type": "scattergl", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatter3d": [{"type": "scatter3d", "line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermap": [{"type": "scattermap", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattermapbox": [{"type": "scattermapbox", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scatterternary": [{"type": "scatterternary", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "scattercarpet": [{"type": "scattercarpet", "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "pie": [{"automargin": true, "type": "pie"}]}, "layout": {"autotypenumbers": "strict", "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "hovermode": "closest", "hoverlabel": {"align": "left"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"bgcolor": "#E5ECF6", "angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "ternary": {"bgcolor": "#E5ECF6", "aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]]}, "xaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "yaxis": {"gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "automargin": true, "zerolinewidth": 2}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white", "gridwidth": 2}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "geo": {"bgcolor": "white", "landcolor": "#E5ECF6", "subunitcolor": "white", "showland": true, "showlakes": true, "lakecolor": "white"}, "title": {"x": 0.05}, "mapbox": {"style": "light"}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "type": "date", "range": ["2025-09-30T00:00:00", "2025-10-06T00:00:00"], "tickfont": {"size": 12}, "tickmode": "linear", "dtick": 86400000, "tickformat": "%a %d %b", "tickangle": 0, "ticklabelposition": "outside bottom", "showgrid": true, "gridcolor": "#334155", "automargin": true}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Activity_short"}, "tickfont": {"size": 12}, "autorange": "reversed", "showgrid": true, "gridcolor": "#334155", "automargin": true, "tickmode": "array", "tickvals": ["Arrival & Opening Party (Ou\u2026", "Morning Wellness & Movement\u2026", "Energising Movement & Breat\u2026", "Yoga & DJ Set - Outer Proje\u2026", "Coffee Party - Outer Projec\u2026", "Balance in Motion - 8 km hi\u2026", "\u201chiked.up to party.down\u201d - \u2026", "Midnight Runners Bootcamp R\u2026", "Outer Projects Run & Sketch\u2026", "Run to Croatian Coastal Ban\u2026", "Tom Colville DJ set", "Ordley DJ set", "Kirilski - Midnight Runners", "Outer Projects DJs (Dom & S\u2026", "Kamila Govor\u010din", "Tom Pardhy B2B Girlcar", "Movement Session - Waking D\u2026", "The Movement Project 'Morni\u2026", "Coffee Party - Rich Wills", "Balance in Motion - 8.5 km \u2026", "Rory Bradshaw Movement, Min\u2026", "Midnight Runners Bootcamp R\u2026 (2)", "Waking Dreams - 8.5 km hike", "Kirilski DJ set", "Tim Garcia DJ set", "Samuel Deep B2B Theo Kottis", "DJ (TBA)", "Little Lion Meg (DJ set)", "DJ (TBA) (2)", "Outer Projects", "Race Registration", "Timed Out\u2122 17.5 km race sta\u2026", "Beach Party DJs - Little Li\u2026", "DJ (TBA) (3)", "Savanah Funk (Live)", "Loner Tennis Club (Live)", "O\u2019Flynn - Headliner", "Tim Garcia DJ set (2)", "A Movement Playground - The\u2026", "Tom Colville DJ set (2)", "Boat Party - Waking Dreams \u2026", "Run to Croatian Coastal Ban\u2026 (2)", "Cherise (Live)", "Kirilski DJ set - Closing P\u2026", "United Freedom Collective", "Mafalda", "Aid Station 1 (~5.1 km) - c\u2026", "Aid Station 2 (~8.5 km, Bea\u2026", "Aid Station 3 (~13.1 km, Co\u2026", "Departures / Breakfast"], "ticktext": ["Arrival & Opening Party (Ou\u2026", "Morning Wellness & Movement\u2026", "Energising Movement & Breat\u2026", "Yoga & DJ Set - Outer Proje\u2026", "Coffee Party - Outer Projec\u2026", "Balance in Motion - 8 km hi\u2026", "\u201chiked.up to party.down\u201d - \u2026", "Midnight Runners Bootcamp R\u2026", "Outer Projects Run & Sketch\u2026", "Run to Croatian Coastal Ban\u2026", "Tom Colville DJ set", "Ordley DJ set", "Kirilski - Midnight Runners", "Outer Projects DJs (Dom & S\u2026", "Kamila Govor\u010din", "Tom Pardhy B2B Girlcar", "Movement Session - Waking D\u2026", "The Movement Project 'Morni\u2026", "Coffee Party - Rich Wills", "Balance in Motion - 8.5 km \u2026", "Rory Bradshaw Movement, Min\u2026", "Midnight Runners Bootcamp R\u2026 (2)", "Waking Dreams - 8.5 km hike", "Kirilski DJ set", "Tim Garcia DJ set", "Samuel Deep B2B Theo Kottis", "DJ (TBA)", "Little Lion Meg (DJ set)", "DJ (TBA) (2)", "Outer Projects", "Race Registration", "Timed Out\u2122 17.5 km race sta\u2026", "Beach Party DJs - Little Li\u2026", "DJ (TBA) (3)", "Savanah Funk (Live)", "Loner Tennis Club (Live)", "O\u2019Flynn - Headliner", "Tim Garcia DJ set (2)", "A Movement Playground - The\u2026", "Tom Colville DJ set (2)", "Boat Party - Waking Dreams \u2026", "Run to Croatian Coastal Ban\u2026 (2)", "Cherise (Live)", "Kirilski DJ set - Closing P\u2026", "United Freedom Collective", "Mafalda", "Aid Station 1 (~5.1 km) - c\u2026", "Aid Station 2 (~8.5 km, Bea\u2026", "Aid Station 3 (~13.1 km, Co\u2026", "Departures / Breakfast"]}, "legend": {"title": {"text": "Category"}, "tracegroupgap": 12, "orientation": "h"}, "margin": {"t": 60}, "barmode": "overlay", "font": {"color": "#e5e7eb", "size": 15}, "title": {"font": {"size": 22, "color": "#e5e7eb"}}, "paper_bgcolor": "#0b1220", "plot_bgcolor": "#0b1220", "height": 900, "shapes": [{"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-09-30T00:00:00", "x1": "2025-09-30T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-01T00:00:00", "x1": "2025-10-01T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-02T00:00:00", "x1": "2025-10-02T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-03T00:00:00", "x1": "2025-10-03T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-04T00:00:00", "x1": "2025-10-04T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-05T00:00:00", "x1": "2025-10-05T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}, {"line": {"color": "#475569", "dash": "dot", "width": 1}, "type": "line", "x0": "2025-10-06T00:00:00", "x1": "2025-10-06T00:00:00", "xref": "x", "y0": 0, "y1": 1, "yref": "paper"}], "updatemenus": [{"bgcolor": "#111827", "bordercolor": "#374151", "buttons": [{"args": [{"xaxis.range": ["2025-09-30T00:00:00", "2025-10-06T00:00:00"], "xaxis.dtick": 86400000, "xaxis.tickformat": "%a %d %b", "xaxis.tickangle": 0}], "label": "All days", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-09-30T00:00:00", "2025-10-01T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Tue, 30", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-10-01T00:00:00", "2025-10-02T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Wed, 01", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-10-02T00:00:00", "2025-10-03T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Thu, 02", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-10-03T00:00:00", "2025-10-04T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Fri, 03", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-10-04T00:00:00", "2025-10-05T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Sat, 04", "method": "relayout"}, {"args": [{"xaxis.range": ["2025-10-05T00:00:00", "2025-10-06T00:00:00"], "xaxis.dtick": 7200000, "xaxis.tickformat": "%H:%M", "xaxis.tickangle": 45}], "label": "Sun, 05", "method": "relayout"}], "direction": "right", "font": {"color": "#e5e7eb"}, "pad": {"b": 6, "l": 6, "r": 6, "t": 6}, "type": "buttons", "x": 1.0, "xanchor": "right", "y": 1.02, "yanchor": "top"}]}};
    const LEGEND_ITEMS = [{"label": "Music / Social", "color": "rgb(229, 134, 6)"}, {"label": "Wellness / Movement", "color": "rgb(93, 105, 177)"}, {"label": "Wellness / Music", "color": "rgb(82, 188, 163)"}, {"label": "Social", "color": "rgb(153, 201, 69)"}, {"label": "Run & Hike", "color": "rgb(204, 97, 176)"}, {"label": "Run", "color": "rgb(36, 121, 108)"}, {"label": "Run / Creative", "color": "rgb(218, 165, 27)"}, {"label": "Run & Hike / Food", "color": "rgb(47, 138, 196)"}, {"label": "Music", "color": "rgb(118, 78, 159)"}, {"label": "Wellness", "color": "rgb(237, 100, 90)"}, {"label": "Run & Hike / Wellness", "color": "rgb(165, 170, 153)"}, {"label": "Logistics", "color": "rgb(127, 60, 141)"}, {"label": "Race", "color": "rgb(17, 165, 121)"}, {"label": "Music / Adventure", "color": "rgb(57, 105, 172)"}, {"label": "No specific time", "color": "#e5e7eb"}];

    // Copy original updatemenus (for day filters) before removing from layout
    const MENUS = (FIG.layout && Array.isArray(FIG.layout.updatemenus)) ? JSON.parse(JSON.stringify(FIG.layout.updatemenus)) : [];

    // Hide built-in legend and remove built-in updatemenus so they don't overlap our UI
    if (!FIG.layout) FIG.layout = {};
    FIG.layout.showlegend = false;
    delete FIG.layout.updatemenus;

    const PLOT = document.getElementById('plot');
    Plotly.newPlot(PLOT, FIG.data, FIG.layout, {responsive:true, displaylogo:false});

    // ---------- Legend pills (build UI) ----------
    (function(){
      const legendEl = document.getElementById('legend-ui');
      legendEl.innerHTML = '';
      (LEGEND_ITEMS || []).forEach(it => {
        const btn = document.createElement('button');
        btn.className = 'pill';
        btn.setAttribute('aria-pressed','true'); // default pressed = visible
        btn.dataset.key = it.label;
        const sw = document.createElement('span'); sw.className='swatch'; sw.style.background = it.color || '#888';
        btn.appendChild(sw);
        btn.appendChild(document.createTextNode(it.label));
        legendEl.appendChild(btn);
      });
    })();

    // Build map from label -> trace indices from FIG.data
    const GROUPS = (() => {
      const m = {};
      (FIG.data||[]).forEach((tr,i)=>{
        const key = (tr && (tr.legendgroup || tr.name || ('Trace '+i)));
        if (!m[key]) m[key] = [];
        m[key].push(i);
      });
      return m;
    })();

    // ---------- Selection model: isolate/multi-select ----------
    // - active.size === 0  -> show ALL
    // - active.size > 0    -> show only labels in active
    const active = new Set();

    function applyVisibility(){
      const n = (FIG.data||[]).length;
      if (active.size === 0){
        Plotly.restyle(PLOT, {visible: Array(n).fill(true)});
        // Set all pills visually pressed
        Array.from(document.querySelectorAll('#legend-ui .pill')).forEach(btn => btn.setAttribute('aria-pressed','true'));
        return;
      }
      const vis = Array(n).fill('legendonly');
      active.forEach(label => {
        (GROUPS[label]||[]).forEach(idx => { vis[idx] = true; });
      });
      Plotly.restyle(PLOT, {visible: vis});
      // Update pills
      Array.from(document.querySelectorAll('#legend-ui .pill')).forEach(btn => {
        btn.setAttribute('aria-pressed', active.has(btn.dataset.key) ? 'true' : 'false');
      });
    }

    document.getElementById('legend-ui').addEventListener('click', (ev) => {
      const btn = ev.target.closest('.pill');
      if (!btn) return;
      const label = btn.dataset.key;
      if (!GROUPS[label]) return;
      if (active.has(label)) active.delete(label);
      else active.add(label);
      applyVisibility();
    });

    // Initial: show all
    applyVisibility();

    // ---------- Day buttons (from original updatemenus) ----------
    (function(){
      const dayUI = document.getElementById('day-ui');
      const menu = (MENUS && MENUS.length) ? MENUS[0] : null;
      if (menu && Array.isArray(menu.buttons) && menu.buttons.length){
        menu.buttons.forEach((b, i) => {
          const btn = document.createElement('button');
          btn.textContent = b.label || ('Option ' + (i+1));
          btn.addEventListener('click', (e) => {
            const method = (menu.method || 'relayout');
            const args = b.args || [];
            if (method === 'relayout'){
            
              const relayoutArgs = (Array.isArray(args) && args.length) ? args[0] : args;

              const day = relayoutArgs['xaxis.range'][0].replace('T00:00:00', '');
              Plotly.relayout(PLOT, relayoutArgs);

                //if (e.target.innerText === 'All days'){
                //    applyVisibility()
                //    //Plotly.restyle(PLOT, {visible: Array(n).fill(true)});
                //    return 
                //}
                //const show = []
                //FIG.data.forEach(item => {
                //    const found = item.base?.some(item => item.includes(day));
                //    show.push(found)
                //})

                //Plotly.restyle(PLOT, {visible: show});
            } else if (method === 'update'){
              const dataArgs = args[0] || {}; const layoutArgs = args[1] || {}; const traces = args[2];
              Plotly.update(PLOT, dataArgs, layoutArgs, traces);
            } else if (typeof Plotly[method] === 'function'){
              Plotly[method](PLOT, ...(Array.isArray(args) ? args : [args]));
            }
            Array.from(dayUI.querySelectorAll('button')).forEach(x => x.classList.remove('active'));
            btn.classList.add('active');
          });
          if (i === 0) btn.classList.add('active');
          dayUI.appendChild(btn);
        });
      } else {
        dayUI.style.display = 'none';
      }
    })();
  </script>
</body>
</html>